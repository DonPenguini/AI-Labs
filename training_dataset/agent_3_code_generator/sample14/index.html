<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boost Converter CCM Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Boost Converter - CCM Mode</h1>
            <p class="subtitle">Continuous Conduction Mode Simulator</p>
        </header>

        <div class="main-grid">
            <!-- Circuit Diagram Section -->
            <div class="circuit-section">
                <h2>Circuit Topology</h2>
                <svg id="circuit" viewBox="0 0 700 350" xmlns="http://www.w3.org/2000/svg">
                    <!-- Input Voltage Source -->
                    <circle cx="80" cy="175" r="35" fill="none" stroke="#2d3748" stroke-width="3"/>
                    <line x1="80" y1="165" x2="80" y2="155" stroke="#2d3748" stroke-width="2"/>
                    <line x1="75" y1="185" x2="85" y2="185" stroke="#2d3748" stroke-width="2"/>
                    <text x="80" y="180" text-anchor="middle" class="component-text small">Vin</text>
                    <text x="80" y="230" text-anchor="middle" class="value-text" id="vinLabel">12V</text>
                    
                    <!-- Wires -->
                    <line id="wire1" x1="80" y1="140" x2="80" y2="80" class="wire"/>
                    <line id="wire2" x1="80" y1="80" x2="200" y2="80" class="wire"/>
                    
                    <!-- Inductor -->
                    <g id="inductorGroup">
                        <path d="M 200 80 Q 205 70 210 80 Q 215 90 220 80 Q 225 70 230 80 Q 235 90 240 80 Q 245 70 250 80" 
                              fill="none" stroke="#2d3748" stroke-width="3"/>
                        <text x="225" y="65" text-anchor="middle" class="component-text">L</text>
                        <text x="225" y="110" text-anchor="middle" class="value-text" id="inductorLabel">100ÂµH</text>
                    </g>
                    
                    <line id="wire3" x1="250" y1="80" x2="350" y2="80" class="wire"/>
                    
                    <!-- Diode -->
                    <g id="diodeGroup">
                        <polygon points="350,70 350,90 370,80" fill="#2d3748"/>
                        <line x1="370" y1="70" x2="370" y2="90" stroke="#2d3748" stroke-width="3"/>
                        <text x="360" y="65" text-anchor="middle" class="component-text">D</text>
                        <circle id="diodeGlow" cx="360" cy="80" r="15" fill="none" stroke="#10b981" stroke-width="0" opacity="0"/>
                    </g>
                    
                    <line id="wire4" x1="370" y1="80" x2="450" y2="80" class="wire"/>
                    
                    <!-- Capacitor -->
                    <g id="capacitorGroup">
                        <line x1="450" y1="60" x2="450" y2="100" stroke="#2d3748" stroke-width="3"/>
                        <line x1="460" y1="60" x2="460" y2="100" stroke="#2d3748" stroke-width="3"/>
                        <text x="455" y="50" text-anchor="middle" class="component-text">C</text>
                        <text x="455" y="130" text-anchor="middle" class="value-text" id="capacitorLabel">100ÂµF</text>
                    </g>
                    
                    <line id="wire5" x1="460" y1="80" x2="550" y2="80" class="wire"/>
                    
                    <!-- Load Resistor -->
                    <g id="resistorGroup">
                        <rect x="550" y="70" width="60" height="20" fill="none" stroke="#2d3748" stroke-width="2"/>
                        <line x1="555" y1="70" x2="555" y2="90" stroke="#2d3748" stroke-width="1"/>
                        <line x1="565" y1="70" x2="565" y2="90" stroke="#2d3748" stroke-width="1"/>
                        <line x1="575" y1="70" x2="575" y2="90" stroke="#2d3748" stroke-width="1"/>
                        <line x1="585" y1="70" x2="585" y2="90" stroke="#2d3748" stroke-width="1"/>
                        <line x1="595" y1="70" x2="595" y2="90" stroke="#2d3748" stroke-width="1"/>
                        <line x1="605" y1="70" x2="605" y2="90" stroke="#2d3748" stroke-width="1"/>
                        <text x="580" y="55" text-anchor="middle" class="component-text">Rload</text>
                        <text x="580" y="115" text-anchor="middle" class="value-text" id="loadLabel">50Î©</text>
                    </g>
                    
                    <line id="wire6" x1="610" y1="80" x2="640" y2="80" class="wire"/>
                    
                    <!-- Output Voltage Indicator -->
                    <text x="640" y="75" text-anchor="start" class="output-text" id="voutIndicator">Vout</text>
                    <text x="640" y="95" text-anchor="start" class="output-value" id="voutValue">0V</text>
                    
                    <!-- Ground connections -->
                    <line id="wire7" x1="640" y1="80" x2="640" y2="270" class="wire"/>
                    <line id="wire8" x1="640" y1="270" x2="80" y2="270" class="wire"/>
                    <line id="wire9" x1="80" y1="270" x2="80" y2="210" class="wire"/>
                    
                    <!-- Switch (MOSFET) -->
                    <g id="switchGroup">
                        <line id="wire10" x1="300" y1="80" x2="300" y2="180" class="wire"/>
                        <circle cx="300" cy="180" r="5" fill="#2d3748"/>
                        <rect x="290" y="180" width="20" height="40" fill="none" stroke="#2d3748" stroke-width="2"/>
                        <line x1="295" y1="200" x2="305" y2="200" stroke="#2d3748" stroke-width="2"/>
                        <polygon id="switchBlade" points="295,200 305,200 300,220" fill="#dc2626" opacity="0.8"/>
                        <line id="wire11" x1="300" y1="220" x2="300" y2="270" class="wire"/>
                        <text x="300" y="245" text-anchor="middle" class="component-text">S</text>
                        <text x="330" y="200" text-anchor="start" class="duty-text" id="dutyLabel">D=0.5</text>
                    </g>
                    
                    <!-- Ground symbols -->
                    <line x1="70" y1="270" x2="90" y2="270" stroke="#2d3748" stroke-width="2"/>
                    <line x1="75" y1="275" x2="85" y2="275" stroke="#2d3748" stroke-width="2"/>
                    <line x1="78" y1="280" x2="82" y2="280" stroke="#2d3748" stroke-width="2"/>
                </svg>
                
                <div class="mode-indicator">
                    <div class="mode-label">Operating Mode:</div>
                    <div id="modeStatus" class="mode-status">CCM âœ“</div>
                </div>
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <h2>Input Parameters</h2>
                
                <div class="control-group">
                    <label>Input Voltage (Vin): <span id="vinValue">12</span> V</label>
                    <input type="range" id="vinSlider" min="1" max="40" step="0.1" value="12">
                </div>
                
                <div class="control-group">
                    <label>Duty Cycle (D): <span id="dutyValue">0.50</span></label>
                    <input type="range" id="dutySlider" min="0.05" max="0.89" step="0.01" value="0.50">
                    <div class="warning" id="dutyWarning">Must be 0 < D < 1</div>
                </div>
                
                <div class="control-group">
                    <label>Switching Frequency (fs): <span id="fsValue">50</span> kHz</label>
                    <input type="range" id="fsSlider" min="1" max="500" step="1" value="50">
                </div>
                
                <div class="control-group">
                    <label>Inductance (L): <span id="lValue">100</span> ÂµH</label>
                    <input type="range" id="lSlider" min="1" max="1000" step="1" value="100">
                </div>
                
                <div class="control-group">
                    <label>Capacitance (C): <span id="cValue">100</span> ÂµF</label>
                    <input type="range" id="cSlider" min="1" max="1000" step="1" value="100">
                </div>
                
                <div class="control-group">
                    <label>Load Resistance (Rload): <span id="rloadValue">50</span> Î©</label>
                    <input type="range" id="rloadSlider" min="0.5" max="500" step="0.5" value="50">
                </div>

                <div class="button-group">
                    <button id="simulateBtn" class="btn btn-primary">Run Simulation</button>
                    <button id="resetBtn" class="btn btn-secondary">Reset</button>
                </div>
            </div>
        </div>

        <!-- Output Results -->
        <div class="results-section">
            <h2>Calculated Results</h2>
            <div class="results-grid">
                <div class="result-card primary">
                    <div class="result-icon">ðŸ“Š</div>
                    <div class="result-label">Output Voltage</div>
                    <div class="result-value" id="voutResult">0.00 V</div>
                    <div class="result-formula">Vout = Vin / (1 - D)</div>
                </div>
                
                <div class="result-card secondary">
                    <div class="result-icon">âš¡</div>
                    <div class="result-label">Output Current</div>
                    <div class="result-value" id="ioutResult">0.00 A</div>
                    <div class="result-formula">Iout = Vout / Rload</div>
                </div>
                
                <div class="result-card accent">
                    <div class="result-icon">ðŸ“ˆ</div>
                    <div class="result-label">Inductor Current Ripple</div>
                    <div class="result-value" id="deltaILResult">0.00 A</div>
                    <div class="result-formula">Î”IL = (Vin Ã— D) / (L Ã— fs)</div>
                </div>
                
                <div class="result-card warning">
                    <div class="result-icon">ðŸ”‹</div>
                    <div class="result-label">Capacitor Voltage Ripple</div>
                    <div class="result-value" id="deltaVCResult">0.00 V</div>
                    <div class="result-formula">Î”VC = (Iout Ã— D) / (C Ã— fs)</div>
                </div>
            </div>
        </div>

        <!-- Waveforms -->
        <div class="waveforms-section">
            <h2>Key Waveforms</h2>
            <div class="waveform-container">
                <div class="waveform-box">
                    <h3>Switch State & Inductor Current</h3>
                    <canvas id="waveformCanvas1"></canvas>
                </div>
                <div class="waveform-box">
                    <h3>Output Voltage Ripple</h3>
                    <canvas id="waveformCanvas2"></canvas>
                </div>
            </div>
        </div>

        <!-- Equations Reference -->
        <div class="equations-section">
            <h2>Design Equations</h2>
            <div class="equation-grid">
                <div class="equation-card">
                    <h3>Output Voltage</h3>
                    <div class="equation">Vout = Vin / (1 - D)</div>
                    <p class="eq-desc">Ideal boost conversion ratio</p>
                </div>
                <div class="equation-card">
                    <h3>Inductor Ripple Current</h3>
                    <div class="equation">Î”IL = (Vin Ã— D) / (L Ã— fs)</div>
                    <p class="eq-desc">Peak-to-peak inductor current variation</p>
                </div>
                <div class="equation-card">
                    <h3>Capacitor Ripple Voltage</h3>
                    <div class="equation">Î”VC = (Iout Ã— D) / (C Ã— fs)</div>
                    <p class="eq-desc">Peak-to-peak output voltage variation</p>
                </div>
                <div class="equation-card">
                    <h3>CCM Boundary Condition</h3>
                    <div class="equation">Lmin = (1 - D)Â² Ã— Rload / (2 Ã— fs)</div>
                    <p class="eq-desc">Minimum inductance for CCM operation</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>