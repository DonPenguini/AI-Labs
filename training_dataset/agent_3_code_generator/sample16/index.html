<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Op-Amp Inverting Amplifier Simulator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>‚ö° Inverting Op-Amp Amplifier</h1>
            <p class="subtitle">Ideal Operational Amplifier Configuration</p>
        </header>

        <div class="main-content">
            <!-- Circuit Diagram -->
            <div class="circuit-section">
                <h2>Circuit Diagram</h2>
                <svg id="circuit" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                    <!-- Input voltage source -->
                    <g id="inputSource">
                        <circle cx="80" cy="200" r="35" fill="none" stroke="#2d3748" stroke-width="3"/>
                        <text x="80" y="205" text-anchor="middle" class="component-label">Vin</text>
                        <text x="80" y="250" text-anchor="middle" class="value-label" id="vinCircuitLabel">0V</text>
                    </g>
                    
                    <!-- Wires and resistors -->
                    <line id="wire1" x1="115" y1="200" x2="180" y2="200" class="wire"/>
                    
                    <!-- Input resistor Rin -->
                    <g id="rinGroup">
                        <rect x="180" y="190" width="80" height="20" fill="none" stroke="#2d3748" stroke-width="2"/>
                        <line x1="185" y1="190" x2="185" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="195" y1="190" x2="195" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="205" y1="190" x2="205" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="215" y1="190" x2="215" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="225" y1="190" x2="225" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="235" y1="190" x2="235" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="245" y1="190" x2="245" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <line x1="255" y1="190" x2="255" y2="210" stroke="#2d3748" stroke-width="1"/>
                        <text x="220" y="175" text-anchor="middle" class="component-label">Rin</text>
                        <text x="220" y="235" text-anchor="middle" class="value-label" id="rinCircuitLabel">10kŒ©</text>
                    </g>
                    
                    <line id="wire2" x1="260" y1="200" x2="320" y2="200" class="wire"/>
                    <circle id="virtualGround" cx="320" cy="200" r="5" fill="#2563eb"/>
                    
                    <!-- Op-amp -->
                    <g id="opampGroup">
                        <path d="M 350 150 L 350 250 L 480 200 Z" fill="#f3f4f6" stroke="#2d3748" stroke-width="3"/>
                        <text x="395" y="185" text-anchor="middle" class="opamp-label">‚àí</text>
                        <text x="395" y="220" text-anchor="middle" class="opamp-label">+</text>
                        <text x="410" y="205" text-anchor="middle" class="component-label small">OpAmp</text>
                        
                        <!-- Input terminals -->
                        <line id="wire3" x1="320" y1="200" x2="350" y2="180" class="wire"/>
                        <line id="wire4" x1="320" y1="280" x2="350" y2="215" class="wire"/>
                        
                        <!-- Output -->
                        <line id="wire5" x1="480" y1="200" x2="550" y2="200" class="wire output-wire"/>
                    </g>
                    
                    <!-- Feedback resistor Rf -->
                    <g id="rfGroup">
                        <line id="wire6" x1="320" y1="200" x2="320" y2="100" class="wire"/>
                        <rect x="310" y="50" width="20" height="80" fill="none" stroke="#2d3748" stroke-width="2"/>
                        <line x1="310" y1="55" x2="330" y2="55" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="65" x2="330" y2="65" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="75" x2="330" y2="75" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="85" x2="330" y2="85" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="95" x2="330" y2="95" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="105" x2="330" y2="105" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="115" x2="330" y2="115" stroke="#2d3748" stroke-width="1"/>
                        <line x1="310" y1="125" x2="330" y2="125" stroke="#2d3748" stroke-width="1"/>
                        <text x="350" y="90" text-anchor="start" class="component-label">Rf</text>
                        <text x="350" y="110" text-anchor="start" class="value-label" id="rfCircuitLabel">100kŒ©</text>
                        <line id="wire7" x1="320" y1="50" x2="550" y2="50" class="wire"/>
                        <line id="wire8" x1="550" y1="50" x2="550" y2="200" class="wire"/>
                    </g>
                    
                    <!-- Ground connection -->
                    <line id="wire9" x1="320" y1="280" x2="320" y2="320" class="wire"/>
                    <line x1="310" y1="320" x2="330" y2="320" stroke="#2d3748" stroke-width="3"/>
                    <line x1="313" y1="325" x2="327" y2="325" stroke="#2d3748" stroke-width="3"/>
                    <line x1="316" y1="330" x2="324" y2="330" stroke="#2d3748" stroke-width="3"/>
                    <text x="320" y="350" text-anchor="middle" class="component-label">GND</text>
                    
                    <!-- Input ground -->
                    <line id="wire10" x1="80" y1="235" x2="80" y2="280" class="wire"/>
                    <line id="wire11" x1="80" y1="280" x2="320" y2="280" class="wire"/>
                    
                    <!-- Output indicator -->
                    <g id="outputIndicator">
                        <circle cx="550" cy="200" r="5" fill="#dc2626"/>
                        <line x1="550" y1="200" x2="600" y2="200" stroke="#dc2626" stroke-width="3"/>
                        <text x="610" y="195" text-anchor="start" class="output-label">Vout</text>
                        <text x="610" y="215" text-anchor="start" class="output-value" id="voutCircuitLabel">0.0V</text>
                    </g>
                    
                    <!-- Current flow indicators -->
                    <g id="currentIndicators">
                        <text x="220" y="185" text-anchor="middle" class="current-label" id="iinLabel">Iin=0mA</text>
                        <text x="320" y="75" text-anchor="middle" class="current-label" id="ifLabel">If=0mA</text>
                    </g>
                    
                    <!-- Virtual ground annotation -->
                    <text x="320" y="170" text-anchor="middle" class="annotation">V‚àí ‚âà 0V</text>
                    <text x="320" y="185" text-anchor="middle" class="annotation small">(Virtual Ground)</text>
                </svg>

                <div class="info-panel">
                    <div class="info-item">
                        <span class="info-label">Configuration:</span>
                        <span class="info-value">Inverting Amplifier</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Op-Amp Type:</span>
                        <span class="info-value">Ideal (A‚Üí‚àû, Rin‚Üí‚àû, Rout‚Üí0)</span>
                    </div>
                </div>
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <h2>Input Parameters</h2>
                
                <div class="control-group">
                    <label>Input Voltage (Vin): <span id="vinValue">0.0</span> V</label>
                    <input type="range" id="vinSlider" min="-15" max="15" step="0.1" value="0">
                    <div class="range-labels">
                        <span>-15V</span>
                        <span>0V</span>
                        <span>+15V</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>Input Resistor (Rin): <span id="rinValue">10</span> kŒ©</label>
                    <input type="range" id="rinSlider" min="0.1" max="1000" step="0.1" value="10">
                    <div class="range-labels">
                        <span>100Œ©</span>
                        <span>500kŒ©</span>
                        <span>1MŒ©</span>
                    </div>
                </div>
                
                <div class="control-group">
                    <label>Feedback Resistor (Rf): <span id="rfValue">100</span> kŒ©</label>
                    <input type="range" id="rfSlider" min="0.1" max="1000" step="0.1" value="100">
                    <div class="range-labels">
                        <span>100Œ©</span>
                        <span>500kŒ©</span>
                        <span>1MŒ©</span>
                    </div>
                </div>

                <div class="preset-section">
                    <h3>Quick Presets</h3>
                    <div class="preset-buttons">
                        <button class="preset-btn" data-preset="unity">Unity Gain (√ó1)</button>
                        <button class="preset-btn" data-preset="x10">10√ó Gain</button>
                        <button class="preset-btn" data-preset="x100">100√ó Gain</button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="calculateBtn" class="btn btn-primary">Calculate</button>
                    <button id="resetBtn" class="btn btn-secondary">Reset</button>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-section">
            <h2>Calculated Results</h2>
            <div class="results-grid">
                <div class="result-card gain-card">
                    <div class="result-icon">üìê</div>
                    <div class="result-label">Voltage Gain (Av)</div>
                    <div class="result-value large" id="gainResult">0.0</div>
                    <div class="result-formula">Av = -Rf / Rin</div>
                    <div class="result-detail" id="gainDetail">|Av| = 0</div>
                </div>
                
                <div class="result-card output-card">
                    <div class="result-icon">‚ö°</div>
                    <div class="result-label">Output Voltage (Vout)</div>
                    <div class="result-value large" id="voutResult">0.0 V</div>
                    <div class="result-formula">Vout = Av √ó Vin</div>
                    <div class="result-detail" id="phaseDetail">Phase: Inverted 180¬∞</div>
                </div>
                
                <div class="result-card current-card">
                    <div class="result-icon">üîÑ</div>
                    <div class="result-label">Input Current (Iin)</div>
                    <div class="result-value" id="iinResult">0.0 mA</div>
                    <div class="result-formula">Iin = Vin / Rin</div>
                </div>
                
                <div class="result-card feedback-card">
                    <div class="result-icon">‚Ü©Ô∏è</div>
                    <div class="result-label">Feedback Current (If)</div>
                    <div class="result-value" id="ifResult">0.0 mA</div>
                    <div class="result-formula">If = Vout / Rf</div>
                </div>
            </div>
        </div>

        <!-- Waveform Visualization -->
        <div class="waveform-section">
            <h2>Input vs Output Waveforms</h2>
            <canvas id="waveformCanvas"></canvas>
            <div class="waveform-legend">
                <div class="legend-item">
                    <div class="legend-color input-color"></div>
                    <span>Input Voltage (Vin)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color output-color"></div>
                    <span>Output Voltage (Vout)</span>
                </div>
            </div>
        </div>

        <!-- Theory Section -->
        <div class="theory-section">
            <h2>Design Equations & Theory</h2>
            <div class="theory-grid">
                <div class="theory-card">
                    <h3>Voltage Gain</h3>
                    <div class="equation-box">Av = -Rf / Rin</div>
                    <p class="theory-text">The negative sign indicates 180¬∞ phase inversion. The magnitude of gain is determined by the ratio of feedback to input resistance.</p>
                </div>
                
                <div class="theory-card">
                    <h3>Output Voltage</h3>
                    <div class="equation-box">Vout = Av √ó Vin = -(Rf/Rin) √ó Vin</div>
                    <p class="theory-text">The output is the inverted and scaled version of the input voltage.</p>
                </div>
                
                <div class="theory-card">
                    <h3>Virtual Ground Concept</h3>
                    <div class="equation-box">V‚àí ‚âà V+ = 0V</div>
                    <p class="theory-text">Due to the op-amp's infinite gain in ideal conditions, the inverting input is held at virtual ground (0V) when the non-inverting input is grounded.</p>
                </div>
                
                <div class="theory-card">
                    <h3>Input Impedance</h3>
                    <div class="equation-box">Zin = Rin</div>
                    <p class="theory-text">The input impedance of the inverting amplifier is simply equal to the input resistor Rin, since the inverting input is at virtual ground.</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>