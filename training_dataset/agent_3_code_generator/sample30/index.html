<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S30 CSTR First Order Simulation</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <header>
            <h1>CSTR First Order Reaction</h1>
            <p>Steady-state simulation of an irreversible reaction A &rarr; Products</p>
        </header>

        <div class="simulation-layout">
            
            <div class="controls-panel">
                <h2>Parameters</h2>
                
                <div class="control-group">
                    <label for="feedConc">
                        Feed Concentration ($C_f$)
                        <span class="unit">[mol/L]</span>
                    </label>
                    <input type="range" id="feedConc" min="0" max="5" step="0.1" value="2.0">
                    <div class="value-display"><span id="val-feedConc">2.0</span></div>
                </div>

                <div class="control-group">
                    <label for="rateConst">
                        Rate Constant ($k$)
                        <span class="unit">[1/s]</span>
                    </label>
                    <input type="range" id="rateConst" min="0.00001" max="1" step="0.001" value="0.1">
                    <div class="value-display"><span id="val-rateConst">0.1</span></div>
                </div>

                <div class="control-group">
                    <label for="resTime">
                        Residence Time ($\tau$)
                        <span class="unit">[s]</span>
                    </label>
                    <input type="range" id="resTime" min="0.1" max="50" step="0.1" value="10.0">
                    <div class="value-display"><span id="val-resTime">10.0</span></div>
                </div>

                <div class="equations-box">
                    <h3>Model Equations</h3>
                    <p>$$C = \frac{C_f}{1 + k\tau}$$</p>
                    <p>$$X = 1 - \frac{C}{C_f}$$</p>
                </div>
            </div>

            <div class="visual-panel">
                <canvas id="simCanvas"></canvas>
            </div>

            <div class="results-panel">
                <h2>Outputs</h2>
                <div class="output-card">
                    <div class="output-label">Outlet Conc. ($C$)</div>
                    <div class="output-value" id="out-C">0.00</div>
                    <div class="output-unit">mol/L</div>
                </div>
                <div class="output-card">
                    <div class="output-label">Conversion ($X$)</div>
                    <div class="output-value" id="out-X">0.00</div>
                    <div class="output-unit">%</div>
                </div>
                
                <div class="assumptions">
                    <strong>Assumptions:</strong> Steady state, Well-mixed, Constant density.
                </div>
            </div>

        </div>
    </div>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="script.js"></script>
</body>
</html>